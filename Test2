#!/usr/bin/env python3
import os
import shutil

def move_files_by_keywords(source_dir, dest_dir, keywords):
    matched_files = []

    for filename in os.listdir(source_dir):
        full_path = os.path.join(source_dir, filename)

        if os.path.isfile(full_path):
            if any(k.lower() in filename.lower() for k in keywords):
                matched_files.append(full_path)

    if not matched_files:
        print("\n‚ùå No matching files found.")
        return

    print("\nüìÑ Files to be moved:")
    for f in matched_files:
        print("  -", os.path.basename(f))

    print(f"\nüì¶ Destination: {dest_dir}")
    confirm = input("\nProceed with moving files? (y/n): ").strip().lower()

    if confirm != "y":
        print("‚ùå Operation cancelled.")
        return

    os.makedirs(dest_dir, exist_ok=True)

    for f in matched_files:
        try:
            shutil.move(f, dest_dir)
        except Exception as e:
            print(f"‚ö†Ô∏è Failed to move {f}: {e}")

    print(f"\n‚úÖ Successfully moved {len(matched_files)} file(s).")

def main():
    source_dir = input("Source directory: ").strip()
    dest_dir = input("Destination directory: ").strip()
    keyword_input = input("Enter keywords (comma separated): ").strip()

    keywords = [k.strip() for k in keyword_input.split(",") if k.strip()]

    move_files_by_keywords(source_dir, dest_dir, keywords)

if __name__ == "__main__":
    main()
